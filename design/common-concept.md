Общая концепция инструмента contentica
======================================

Инструмент генерации статического html из пользовательского контента.

Основная идея
-------------

получаем конфиг, где указано:

- источник входных данных (input parser)
- формат входных данных (data-tree generator)
- формат синтаксического дерева (data tree лучше все таки) (data-tree generator)
- обработчики синтаксического дерева, формат выхоодных данных (output-generator)


появилась идея разделить все это на 3 блока: 

- input processor     - получение и парсинг входных данных
- data tree processor - построение синтаксического дерева данных на основе входных данных
- output processor    - сборка билда на основе синтаксического дерева данных

начал разработку и появилась еще одна идея - нафиг выкинуть data tree processor, так как это выглядит лишней сущностью.
input процессор будет строить дерево данных само, используя свои фишки и фишки из ядра библиотеки contentica.

т.е. остается только:

- input processor     - получение и парсинг входных данных и построение дерева данных
- output processor    - сборка билда на основе синтаксического дерева данных



ядро инструмента по данному конфигу умеет строить html и прочую статику.

вместе с ядром есть предопределенные пресеты конфига (пока 1)
предустановленный пресет:

- входные данные - google sheets и google.docs
- формат входных данных - ну вот придумать формат организации данных в google sheets и docs
- и формат синтаксического дерева
- обработчики тоже придумать ну и придумать как это организовывать в выходные данные



источник входных данных google.docs (input parser)
------------------------------------

сами данные лежат в облаке google.docs, но при сборке копируются статические файлы (экспорт из формата гугла в xlsx)

использует плагины (input parser plugins) для доступа к входным данным


формат входных данных google.docs ( data tree generator)
---------------------------------

есть главный файл - excel-таблица. В которой каждая вкладка - это html страница, которую нужно сгенерировать.

формат вкладки:


там находятся данные в следующих форматах

- таблица с данными 
- пары ключ-значение

сами данные могут быть либо текст, либо ссылка на файл/текст

если ссылка на текст, то на основе текста может быть сгенерирована новая html страница либо просто взят текст

использует плагины (data tree generator plugin) для парсинга типов данных

если вкладка заканчивается на .html значит это и есть страница, иначе это просто вкладка с данными и ее не парсим

есть вкладка называется `system` (как правило должна идти самой первой) - в ней храним базовую информацию о данных и 
формате данных


обработчик синтаксического дерева (output generator)
---------------------------------

эта штука берет готовое data-tree и компилирует его в html

генератор может использовать плагины (output-generator-plugin) для обработки данных (например, жать картинки)


замечания по плагинам:
----------------------

плагины подключаются внутри самих сущностей, но любую сущность можно переконфигурировать из основного конфига

соответственно, в любой сущности должны быть дефолтные конфиги, которые легко переопределить из базового 
(по аналогии с вебпак-конфигом видимо)

т.е. конфиг должен быть js-объектом а не json


версионирование
---------------

надо как-то поддерживать версионирование, подумать! Видимо будем создавать version.html в котором будет хэш от 
сгенерированных файлов Это и будет версией

или не создавать отдельный файл, а просто хранить хэш в index.html  в виде коммента

или вообще не париться насчет версионирования

